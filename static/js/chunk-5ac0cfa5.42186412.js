(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ac0cfa5"],{"2b57":function(t,e,r){},"4d5f":function(t,e,r){"use strict";r("2b57")},"5a0c":function(t,e,r){!function(e,r){t.exports=r()}(0,(function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",a="second",i="minute",s="hour",c="day",o="week",u="month",l="quarter",d="year",f="date",h="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},b={s:y,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),a=r%60;return(e<=0?"+":"-")+y(n,2,"0")+":"+y(a,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),a=e.clone().add(n,u),i=r-a<0,s=e.clone().add(n+(i?-1:1),u);return+(-(n+(r-a)/(i?a-s:s-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:d,w:o,d:c,D:f,h:s,m:i,s:a,ms:n,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",$={};$[g]=v;var w=function(t){return t instanceof C},D=function t(e,r,n){var a;if(!e)return g;if("string"==typeof e){var i=e.toLowerCase();$[i]&&(a=i),r&&($[i]=r,a=i);var s=e.split("-");if(!a&&s.length>1)return t(s[0])}else{var c=e.name;$[c]=e,a=c}return!n&&a&&(g=a),a||!n&&g},O=function(t,e){if(w(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new C(r)},M=b;M.l=D,M.i=w,M.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var C=function(){function v(t){this.$L=D(t.locale,null,!0),this.parse(t)}var y=v.prototype;return y.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(M.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(m);if(n){var a=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},y.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},y.$utils=function(){return M},y.isValid=function(){return!(this.$d.toString()===h)},y.isSame=function(t,e){var r=O(t);return this.startOf(e)<=r&&r<=this.endOf(e)},y.isAfter=function(t,e){return O(t)<this.startOf(e)},y.isBefore=function(t,e){return this.endOf(e)<O(t)},y.$g=function(t,e,r){return M.u(t)?this[e]:this.set(r,t)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(t,e){var r=this,n=!!M.u(e)||e,l=M.p(t),h=function(t,e){var a=M.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?a:a.endOf(c)},m=function(t,e){return M.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},p=this.$W,v=this.$M,y=this.$D,b="set"+(this.$u?"UTC":"");switch(l){case d:return n?h(1,0):h(31,11);case u:return n?h(1,v):h(0,v+1);case o:var g=this.$locale().weekStart||0,$=(p<g?p+7:p)-g;return h(n?y-$:y+(6-$),v);case c:case f:return m(b+"Hours",0);case s:return m(b+"Minutes",1);case i:return m(b+"Seconds",2);case a:return m(b+"Milliseconds",3);default:return this.clone()}},y.endOf=function(t){return this.startOf(t,!1)},y.$set=function(t,e){var r,o=M.p(t),l="set"+(this.$u?"UTC":""),h=(r={},r[c]=l+"Date",r[f]=l+"Date",r[u]=l+"Month",r[d]=l+"FullYear",r[s]=l+"Hours",r[i]=l+"Minutes",r[a]=l+"Seconds",r[n]=l+"Milliseconds",r)[o],m=o===c?this.$D+(e-this.$W):e;if(o===u||o===d){var p=this.clone().set(f,1);p.$d[h](m),p.init(),this.$d=p.set(f,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},y.set=function(t,e){return this.clone().$set(t,e)},y.get=function(t){return this[M.p(t)]()},y.add=function(n,l){var f,h=this;n=Number(n);var m=M.p(l),p=function(t){var e=O(h);return M.w(e.date(e.date()+Math.round(t*n)),h)};if(m===u)return this.set(u,this.$M+n);if(m===d)return this.set(d,this.$y+n);if(m===c)return p(1);if(m===o)return p(7);var v=(f={},f[i]=e,f[s]=r,f[a]=t,f)[m]||1,y=this.$d.getTime()+n*v;return M.w(y,this)},y.subtract=function(t,e){return this.add(-1*t,e)},y.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var n=t||"YYYY-MM-DDTHH:mm:ssZ",a=M.z(this),i=this.$H,s=this.$m,c=this.$M,o=r.weekdays,u=r.months,l=function(t,r,a,i){return t&&(t[r]||t(e,n))||a[r].slice(0,i)},d=function(t){return M.s(i%12||12,t,"0")},f=r.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:c+1,MM:M.s(c+1,2,"0"),MMM:l(r.monthsShort,c,u,3),MMMM:l(u,c),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:l(r.weekdaysMin,this.$W,o,2),ddd:l(r.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(i),HH:M.s(i,2,"0"),h:d(1),hh:d(2),a:f(i,s,!0),A:f(i,s,!1),m:String(s),mm:M.s(s,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:a};return n.replace(p,(function(t,e){return e||m[t]||a.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(n,f,h){var m,p=M.p(f),v=O(n),y=(v.utcOffset()-this.utcOffset())*e,b=this-v,g=M.m(this,v);return g=(m={},m[d]=g/12,m[u]=g,m[l]=g/3,m[o]=(b-y)/6048e5,m[c]=(b-y)/864e5,m[s]=b/r,m[i]=b/e,m[a]=b/t,m)[p]||b,h?g:M.a(g)},y.daysInMonth=function(){return this.endOf(u).$D},y.$locale=function(){return $[this.$L]},y.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=D(t,e,!0);return n&&(r.$L=n),r},y.clone=function(){return M.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},v}(),k=C.prototype;return O.prototype=k,[["$ms",n],["$s",a],["$m",i],["$H",s],["$W",c],["$M",u],["$y",d],["$D",f]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,C,O),t.$i=!0),O},O.locale=D,O.isDayjs=w,O.unix=function(t){return O(1e3*t)},O.en=$[g],O.Ls=$,O.p={},O}))},b0d3:function(t,e,r){t.exports=r.p+"static/img/empty.87.87c4f71b.png"},bc95:function(t,e,r){"use strict";r.d(e,"i",(function(){return a})),r.d(e,"g",(function(){return i})),r.d(e,"d",(function(){return s})),r.d(e,"m",(function(){return o})),r.d(e,"b",(function(){return u})),r.d(e,"c",(function(){return l})),r.d(e,"a",(function(){return d})),r.d(e,"k",(function(){return f})),r.d(e,"j",(function(){return h})),r.d(e,"l",(function(){return m})),r.d(e,"f",(function(){return p})),r.d(e,"h",(function(){return v})),r.d(e,"e",(function(){return y}));r("99af");var n=r("b775"),a=function(t,e){return Object(n["a"])({url:"/api/user-service/user/search",data:e,params:t})},i=function(t){return Object(n["a"])({url:"/api/user-service/role",data:t})},s=function(t){return Object(n["a"])({url:"/api/vm-service/region/search",params:t})},c=new FormData,o=function(t){return c.append("fileName",t),Object(n["a"])({url:"/api/vm-service/sku/fileUpload",method:"POST",data:c,headers:{"Content-Type":"multipart/form-data"}})},u=function(t){return Object(n["a"])({url:"/api/user-service/user/".concat(t),method:"DELETE"})},l=function(t){return Object(n["a"])({url:"/api/user-service/user/".concat(t.id),method:"PUT",data:t})},d=function(t){return Object(n["a"])({url:"/api/user-service/user",method:"POST",data:t})},f=function(t,e){return Object(n["a"])({url:"/api/user-service/user/searchUserWork",params:t,data:e})},h=function(t){return Object(n["a"])({url:"/api/task-service/task/userWork",params:t})},m=function(t){return Object(n["a"])({url:"/api/user-service/user/".concat(t)})},p=function(t,e){return Object(n["a"])({url:"/api/task-service/task/taskReportInfo/".concat(t,"/").concat(e)})},v=function(t,e,r,a){return Object(n["a"])({url:"/api/task-service/task/userWorkTop10/".concat(t,"/").concat(e,"/").concat(r,"/").concat(a)})},y=function(t,e){return Object(n["a"])({url:"/api/task-service/task/collectReport/".concat(t,"/").concat(e)})}},c8e3:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-main"},[r("el-row",{staticClass:"top",attrs:{type:"flex"}},[r("el-col",{staticClass:"topCom box top-left",staticStyle:{"margin-right":"20px"}},[r("div",{staticClass:"title"},[t._v("运营人员（当天）")]),r("div",{staticClass:"body"},t._l(t.headerList,(function(e,n){return r("div",{key:n},[r("span",[t._v(t._s(t.headerInfo[0][e.value]))]),r("span",[t._v(t._s(e.name))])])})),0)]),r("el-col",{staticClass:"topCom box top-right"},[r("div",{staticClass:"title"},[t._v("运维人员（当天）")]),r("div",{staticClass:"body"},t._l(t.headerList,(function(e,n){return r("div",{key:n},[r("span",{staticClass:"rightNumColor"},[t._v(t._s(t.headerInfo[1][e.value]))]),r("span",{staticClass:"rightDesColor"},[t._v(t._s(e.name))])])})),0)])],1),r("el-row",{staticClass:"bottom",attrs:{type:"flex"}},[r("el-col",{staticClass:"box bom-left bom",staticStyle:{"margin-right":"25px"}},[r("div",{staticClass:"header"},[r("div",{staticClass:"title",staticStyle:{"margin-bottom":"0"}},[t._v("工单状态")]),r("div",{staticClass:"date"},[r("el-date-picker",{staticClass:"time",attrs:{type:"daterange","range-separator":"~",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","start-placeholder":t.startTime,"end-placeholder":t.endTime,pickerOptions:t.pickerOptions},on:{change:t.chooseDate},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),r("div",{staticClass:"week-month-year"},t._l(t.timeList,(function(e,n){return r("div",{key:n,staticClass:"item",class:{isChecked:t.currentTime===e.time},on:{click:function(r){return t.clickTime(e.time)}}},[t._v(t._s(e.value))])})),0)],1)]),r("div",{staticClass:"main"},[t.isShowEmpty?r("div",{staticClass:"empty"},[r("img",{attrs:{src:t.emptyImg,alt:""}}),r("p",[t._v("暂无数据")])]):r("barEcharts",{ref:"barEar",attrs:{collectList:t.collectList,data1:t.data1,data2:t.data2,data3:t.data3}})],1)]),r("el-col",{staticClass:"box bom-right bom"},[r("div",{staticClass:"header"},[r("div",{staticClass:"title",staticStyle:{"margin-bottom":"0"}},[t._v("人效排名（月度）")]),r("el-select",{staticClass:"select",attrs:{placeholder:"全部"},on:{change:t.changeArea},model:{value:t.area,callback:function(e){t.area=e},expression:"area"}},t._l(t.areaList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),r("div",{staticClass:"role-group"},[r("div",{staticClass:"role-list"},t._l(t.roleList,(function(e,n){return r("div",{key:n,staticClass:"role",class:{isChecked:t.role===e},on:{click:function(r){return t.clickRole(e)}}},[t._v(t._s(e))])})),0)]),r("div",{staticClass:"role-content"},[t.isShowEmpty2?r("div",{staticClass:"empty2"},[r("img",{attrs:{src:t.emptyImg,alt:""}}),r("p",[t._v("暂无数据")])]):r("div",[t._v(" 排名表 ")])])])],1)],1)},a=[],i=r("c7eb"),s=r("1da1"),c=(r("d81d"),r("bc95")),o=r("b0d3"),u=r.n(o),l=r("5a0c"),d=r.n(l),f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"bar",staticClass:"bar",staticStyle:{width:"100%",height:"100%"}},[t._v("工单统计图")])},h=[],m={data:function(){return{}},props:{collectList:{type:Array},data1:{type:Array},data2:{type:Array},data3:{type:Array}},created:function(){},mounted:function(){this.inOrigin()},methods:{inOrigin:function(){var t=this.$echarts.init(this.$refs.bar),e={color:["#7f96f8","#ec635e"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:"{b0}<br />{a0}数: {c0}个"},legend:{data:["完成工单","取消工单"],bottom:"30px"},xAxis:[{type:"category",axisTick:{show:!1},data:this.data3}],yAxis:[{type:"value"}],series:[{name:"完成工单",type:"bar",data:this.data1},{name:"取消工单",type:"bar",data:this.data2}]};t.setOption(e)}}},p=m,v=r("2877"),y=Object(v["a"])(p,f,h,!1,null,"9bd56146",null),b=y.exports,g={data:function(){return{value:"",startTime:d()(Date.now()).format("YYYY-MM-DD"),endTime:d()(Date.now()).format("YYYY-MM-DD"),emptyImg:u.a,timeList:[{time:"week",value:"周"},{time:"month",value:"月"},{time:"year",value:"年"}],currentTime:"",roleList:["运营人员","运维人员"],role:"运营人员",roleCurrent:!1,headerInfo:[{},{}],pickerOptions:{disabledDate:function(t){return t>Date.now()}},area:"",areaList:[],isShowEmpty:!1,isShowEmpty2:!1,collectList:[],data1:[],data2:[],data3:[],headerList:[{name:"工单总数（个）",value:"total"},{name:"完成工单（个）",value:"completedTotal"},{name:"拒绝工单（个）",value:"cancelTotal"},{name:"运营人员数（个）",value:"workerCount"}]}},created:function(){this.clickTime("week"),this.getHeaderInfo(d()(Date.now()).format("YYYY-MM-DD 00:00:00"),d()(Date.now()).format("YYYY-MM-DD 23:59:59")),this.getAreaList({pageIndex:1,pageSize:1e5}),this.getToTen(d()().startOf("month").format("YYYY-MM-DD"),this.endTime,this.roleCurrent,0),this.getCollectReport(d()().startOf("week").format("YYYY-MM-DD"),this.endTime)},methods:{clickTime:function(t){this.currentTime=t,this.startTime=d()().startOf(t).format("YYYY-MM-DD"),this.getCollectReport()},clickRole:function(t){this.role=t,this.roleCurrent=!this.roleCurrent,this.getAreaList(d()().startOf("month").format("YYYY-MM-DD"),this.endTime,this.roleCurrent,this.area)},getHeaderInfo:function(t,e){var r=this;return Object(s["a"])(Object(i["a"])().mark((function n(){var a;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(c["f"])(t,e);case 2:a=n.sent,a[0]&&(r.headerInfo=a);case 4:case"end":return n.stop()}}),n)})))()},getAreaList:function(t){var e=this;return Object(s["a"])(Object(i["a"])().mark((function r(){var n,a;return Object(i["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(c["d"])(t);case 2:n=r.sent,a=n.currentPageRecords,e.areaList=a;case 5:case"end":return r.stop()}}),r)})))()},getToTen:function(t,e,r,n){var a=this;return Object(s["a"])(Object(i["a"])().mark((function s(){var o;return Object(i["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(c["h"])(t,e,r,n);case 2:o=i.sent,o[0]||(a.isShowEmpty2=!0);case 4:case"end":return i.stop()}}),s)})))()},changeArea:function(){this.getToTen(d()().startOf("month").format("YYYY-MM-DD"),this.endTime,this.roleCurrent,this.area)},getCollectReport:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["e"])(t.startTime,t.endTime);case 2:r=e.sent,t.collectList=r,t.collectList[0]?t.isShowEmpty=!1:t.isShowEmpty=!0;case 5:case"end":return e.stop()}}),e)})))()},chooseDate:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.value),t.startTime=t.value[0],t.endTime=t.value[1],e.next=5,t.getCollectReport();case 5:t.data1=t.collectList.map((function(t){return t.finishCount})),t.data2=t.collectList.map((function(t){return t.cancelCount})),t.data3=t.collectList.map((function(t){return d()(t.collectDate).format("MM月DD日")}));case 8:case"end":return e.stop()}}),e)})))()}},components:{barEcharts:b}},$=g,w=(r("4d5f"),Object(v["a"])($,n,a,!1,null,"927e04de",null));e["default"]=w.exports}}]);