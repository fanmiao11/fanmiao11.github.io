(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7bd51406"],{"4c1a":function(t,e,r){},"5a0c":function(t,e,r){!function(e,r){t.exports=r()}(0,(function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",a="second",i="minute",s="hour",c="day",o="week",u="month",l="quarter",h="year",d="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},C=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},y={s:C,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),a=r%60;return(e<=0?"+":"-")+C(n,2,"0")+":"+C(a,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),a=e.clone().add(n,u),i=r-a<0,s=e.clone().add(n+(i?-1:1),u);return+(-(n+(r-a)/(i?a-s:s-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:h,w:o,d:c,D:d,h:s,m:i,s:a,ms:n,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",b={};b[g]=v;var $=function(t){return t instanceof O},D=function t(e,r,n){var a;if(!e)return g;if("string"==typeof e){var i=e.toLowerCase();b[i]&&(a=i),r&&(b[i]=r,a=i);var s=e.split("-");if(!a&&s.length>1)return t(s[0])}else{var c=e.name;b[c]=e,a=c}return!n&&a&&(g=a),a||!n&&g},w=function(t,e){if($(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new O(r)},M=y;M.l=D,M.i=$,M.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var O=function(){function v(t){this.$L=D(t.locale,null,!0),this.parse(t)}var C=v.prototype;return C.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(M.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(p);if(n){var a=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},C.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},C.$utils=function(){return M},C.isValid=function(){return!(this.$d.toString()===f)},C.isSame=function(t,e){var r=w(t);return this.startOf(e)<=r&&r<=this.endOf(e)},C.isAfter=function(t,e){return w(t)<this.startOf(e)},C.isBefore=function(t,e){return this.endOf(e)<w(t)},C.$g=function(t,e,r){return M.u(t)?this[e]:this.set(r,t)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(t,e){var r=this,n=!!M.u(e)||e,l=M.p(t),f=function(t,e){var a=M.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?a:a.endOf(c)},p=function(t,e){return M.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},m=this.$W,v=this.$M,C=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case h:return n?f(1,0):f(31,11);case u:return n?f(1,v):f(0,v+1);case o:var g=this.$locale().weekStart||0,b=(m<g?m+7:m)-g;return f(n?C-b:C+(6-b),v);case c:case d:return p(y+"Hours",0);case s:return p(y+"Minutes",1);case i:return p(y+"Seconds",2);case a:return p(y+"Milliseconds",3);default:return this.clone()}},C.endOf=function(t){return this.startOf(t,!1)},C.$set=function(t,e){var r,o=M.p(t),l="set"+(this.$u?"UTC":""),f=(r={},r[c]=l+"Date",r[d]=l+"Date",r[u]=l+"Month",r[h]=l+"FullYear",r[s]=l+"Hours",r[i]=l+"Minutes",r[a]=l+"Seconds",r[n]=l+"Milliseconds",r)[o],p=o===c?this.$D+(e-this.$W):e;if(o===u||o===h){var m=this.clone().set(d,1);m.$d[f](p),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},C.set=function(t,e){return this.clone().$set(t,e)},C.get=function(t){return this[M.p(t)]()},C.add=function(n,l){var d,f=this;n=Number(n);var p=M.p(l),m=function(t){var e=w(f);return M.w(e.date(e.date()+Math.round(t*n)),f)};if(p===u)return this.set(u,this.$M+n);if(p===h)return this.set(h,this.$y+n);if(p===c)return m(1);if(p===o)return m(7);var v=(d={},d[i]=e,d[s]=r,d[a]=t,d)[p]||1,C=this.$d.getTime()+n*v;return M.w(C,this)},C.subtract=function(t,e){return this.add(-1*t,e)},C.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||f;var n=t||"YYYY-MM-DDTHH:mm:ssZ",a=M.z(this),i=this.$H,s=this.$m,c=this.$M,o=r.weekdays,u=r.months,l=function(t,r,a,i){return t&&(t[r]||t(e,n))||a[r].slice(0,i)},h=function(t){return M.s(i%12||12,t,"0")},d=r.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:c+1,MM:M.s(c+1,2,"0"),MMM:l(r.monthsShort,c,u,3),MMMM:l(u,c),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:l(r.weekdaysMin,this.$W,o,2),ddd:l(r.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(i),HH:M.s(i,2,"0"),h:h(1),hh:h(2),a:d(i,s,!0),A:d(i,s,!1),m:String(s),mm:M.s(s,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:a};return n.replace(m,(function(t,e){return e||p[t]||a.replace(":","")}))},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(n,d,f){var p,m=M.p(d),v=w(n),C=(v.utcOffset()-this.utcOffset())*e,y=this-v,g=M.m(this,v);return g=(p={},p[h]=g/12,p[u]=g,p[l]=g/3,p[o]=(y-C)/6048e5,p[c]=(y-C)/864e5,p[s]=y/r,p[i]=y/e,p[a]=y/t,p)[m]||y,f?g:M.a(g)},C.daysInMonth=function(){return this.endOf(u).$D},C.$locale=function(){return b[this.$L]},C.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=D(t,e,!0);return n&&(r.$L=n),r},C.clone=function(){return M.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},v}(),k=O.prototype;return w.prototype=k,[["$ms",n],["$s",a],["$m",i],["$H",s],["$W",c],["$M",u],["$y",h],["$D",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,O,w),t.$i=!0),w},w.locale=D,w.isDayjs=$,w.unix=function(t){return w(1e3*t)},w.en=b[g],w.Ls=b,w.p={},w}))},a994:function(t,e,r){"use strict";r("4c1a")},b0d3:function(t,e,r){t.exports=r.p+"static/img/empty.87.87c4f71b.png"},bc95:function(t,e,r){"use strict";r.d(e,"i",(function(){return a})),r.d(e,"g",(function(){return i})),r.d(e,"d",(function(){return s})),r.d(e,"m",(function(){return o})),r.d(e,"b",(function(){return u})),r.d(e,"c",(function(){return l})),r.d(e,"a",(function(){return h})),r.d(e,"k",(function(){return d})),r.d(e,"j",(function(){return f})),r.d(e,"l",(function(){return p})),r.d(e,"f",(function(){return m})),r.d(e,"h",(function(){return v})),r.d(e,"e",(function(){return C}));r("99af");var n=r("b775"),a=function(t,e){return Object(n["a"])({url:"/api/user-service/user/search",data:e,params:t})},i=function(t){return Object(n["a"])({url:"/api/user-service/role",data:t})},s=function(t){return Object(n["a"])({url:"/api/vm-service/region/search",params:t})},c=new FormData,o=function(t){return c.append("fileName",t),Object(n["a"])({url:"/api/vm-service/sku/fileUpload",method:"POST",data:c,headers:{"Content-Type":"multipart/form-data"}})},u=function(t){return Object(n["a"])({url:"/api/user-service/user/".concat(t),method:"DELETE"})},l=function(t){return Object(n["a"])({url:"/api/user-service/user/".concat(t.id),method:"PUT",data:t})},h=function(t){return Object(n["a"])({url:"/api/user-service/user",method:"POST",data:t})},d=function(t,e){return Object(n["a"])({url:"/api/user-service/user/searchUserWork",params:t,data:e})},f=function(t){return Object(n["a"])({url:"/api/task-service/task/userWork",params:t})},p=function(t){return Object(n["a"])({url:"/api/user-service/user/".concat(t)})},m=function(t,e){return Object(n["a"])({url:"/api/task-service/task/taskReportInfo/".concat(t,"/").concat(e)})},v=function(t,e,r,a){return Object(n["a"])({url:"/api/task-service/task/userWorkTop10/".concat(t,"/").concat(e,"/").concat(r,"/").concat(a)})},C=function(t,e){return Object(n["a"])({url:"/api/task-service/task/collectReport/".concat(t,"/").concat(e)})}},c8e3:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-main"},[r("el-row",{staticClass:"top",attrs:{type:"flex"}},[r("el-col",{staticClass:"topCom box top-left",staticStyle:{"margin-right":"20px"}},[r("div",{staticClass:"title"},[t._v("运营人员（当天）")]),r("div",{staticClass:"body"},[r("div",[r("span",[t._v(t._s(t.headerInfo[0].total))]),r("span",[t._v("工单总数（个）")])]),r("div",[r("span",[t._v(t._s(t.headerInfo[0].completedTotal))]),r("span",[t._v("完成工单（个）")])]),r("div",[r("span",[t._v(t._s(t.headerInfo[0].cancelTotal))]),r("span",[t._v("拒绝工单（个）")])]),r("div",[r("span",[t._v(t._s(t.headerInfo[0].workerCount))]),r("span",[t._v("运营人员数（个）")])])])]),r("el-col",{staticClass:"topCom box top-right"},[r("div",{staticClass:"title"},[t._v("运维人员（当天）")]),r("div",{staticClass:"body"},[r("div",[r("span",{staticClass:"rightNumColor"},[t._v(t._s(t.headerInfo[1].total))]),r("span",{staticClass:"rightDesColor"},[t._v("工单总数（个）")])]),r("div",[r("span",{staticClass:"rightNumColor"},[t._v(t._s(t.headerInfo[1].completedTotal))]),r("span",{staticClass:"rightDesColor"},[t._v("完成工单（个）")])]),r("div",[r("span",{staticClass:"rightNumColor"},[t._v(t._s(t.headerInfo[1].cancelTotal))]),r("span",{staticClass:"rightDesColor"},[t._v("拒绝工单（个）")])]),r("div",[r("span",{staticClass:"rightNumColor"},[t._v(t._s(t.headerInfo[1].workerCount))]),r("span",{staticClass:"rightDesColor"},[t._v("运营人员数（个）")])])])])],1),r("el-row",{staticClass:"bottom",attrs:{type:"flex"}},[r("el-col",{staticClass:"box bom-left bom",staticStyle:{"margin-right":"25px"}},[r("div",{staticClass:"header"},[r("div",{staticClass:"title",staticStyle:{"margin-bottom":"0"}},[t._v("工单状态")]),r("div",{staticClass:"date"},[r("el-date-picker",{staticClass:"time",attrs:{type:"daterange","range-separator":"~",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","start-placeholder":t.startTime,"end-placeholder":t.endTime,pickerOptions:t.pickerOptions},on:{change:t.chooseDate},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),r("div",{staticClass:"week-month-year"},[r("div",{staticClass:"week item",class:{isChecked:t.weekCurrent},on:{click:t.clickWeek}},[t._v("周")]),r("div",{staticClass:"month item",class:{isChecked:t.monthCurrent},on:{click:t.clickMonth}},[t._v("月")]),r("div",{staticClass:"year item",class:{isChecked:t.yearCurrent},on:{click:t.clickYear}},[t._v("年")])])],1)]),r("div",{staticClass:"main"},[t.isShowEmpty?r("div",{staticClass:"empty"},[r("img",{attrs:{src:t.emptyImg,alt:""}}),r("p",[t._v("暂无数据")])]):r("barEcharts",{ref:"barEar",attrs:{collectList:t.collectList,data1:t.data1,data2:t.data2,data3:t.data3}})],1)]),r("el-col",{staticClass:"box bom-right bom"},[r("div",{staticClass:"header"},[r("div",{staticClass:"title",staticStyle:{"margin-bottom":"0"}},[t._v("人效排名（月度）")]),r("el-select",{staticClass:"select",attrs:{placeholder:"全部"},on:{change:t.changeArea},model:{value:t.area,callback:function(e){t.area=e},expression:"area"}},t._l(t.areaList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),r("div",{staticClass:"role-group"},[r("div",{staticClass:"role-list"},[r("div",{staticClass:"role",class:{isChecked:t.lCurrent},on:{click:t.clickL}},[t._v("运营人员")]),r("div",{staticClass:"role",class:{isChecked:t.rCurrent},on:{click:t.clickR}},[t._v("运维人员")])])]),r("div",{staticClass:"role-content"},[t.isShowEmpty2?r("div",{staticClass:"empty2"},[r("img",{attrs:{src:t.emptyImg,alt:""}}),r("p",[t._v("暂无数据")])]):r("div",[t._v(" 排名表 ")])])])],1)],1)},a=[],i=r("c7eb"),s=r("1da1"),c=(r("d81d"),r("bc95")),o=r("b0d3"),u=r.n(o),l=r("5a0c"),h=r.n(l),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"bar",staticClass:"bar",staticStyle:{width:"100%",height:"100%"}},[t._v("工单统计图")])},f=[],p={data:function(){return{}},props:{collectList:{type:Array},data1:{type:Array},data2:{type:Array},data3:{type:Array}},created:function(){},mounted:function(){this.inOrigin()},methods:{inOrigin:function(){var t=this.$echarts.init(this.$refs.bar),e={color:["#7f96f8","#ec635e"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:"{b0}<br />{a0}数: {c0}个"},legend:{data:["完成工单","取消工单"],bottom:"30px"},xAxis:[{type:"category",axisTick:{show:!1},data:this.data3}],yAxis:[{type:"value"}],series:[{name:"完成工单",type:"bar",data:this.data1},{name:"取消工单",type:"bar",data:this.data2}]};t.setOption(e)}}},m=p,v=r("2877"),C=Object(v["a"])(m,d,f,!1,null,"b44def56",null),y=C.exports,g={data:function(){return{value:"",startTime:h()(Date.now()).format("YYYY-MM-DD"),endTime:h()(Date.now()).format("YYYY-MM-DD"),emptyImg:u.a,weekCurrent:!0,monthCurrent:!1,yearCurrent:!1,headerInfo:[{},{}],pickerOptions:{disabledDate:function(t){return t>Date.now()}},lCurrent:!0,rCurrent:!1,area:"",areaList:[],roleCurrent:!1,isShowEmpty:!1,isShowEmpty2:!1,collectList:[],data1:[],data2:[],data3:[]}},created:function(){this.clickWeek(),this.getHeaderInfo(h()(Date.now()).format("YYYY-MM-DD 00:00:00"),h()(Date.now()).format("YYYY-MM-DD 23:59:59")),this.getAreaList({pageIndex:1,pageSize:1e5}),this.getToTen(h()().startOf("month").format("YYYY-MM-DD"),this.endTime,this.roleCurrent,0),this.getCollectReport(h()().startOf("week").format("YYYY-MM-DD"),this.endTime)},methods:{clickWeek:function(){this.weekCurrent=!0,this.monthCurrent=!1,this.yearCurrent=!1,this.startTime=h()().startOf("week").format("YYYY-MM-DD"),this.getCollectReport()},clickMonth:function(){this.weekCurrent=!1,this.monthCurrent=!0,this.yearCurrent=!1,this.startTime=h()().startOf("month").format("YYYY-MM-DD"),this.getCollectReport()},clickYear:function(){this.weekCurrent=!1,this.monthCurrent=!1,this.yearCurrent=!0,this.startTime=h()().startOf("year").format("YYYY-MM-DD"),this.getCollectReport()},clickL:function(){this.lCurrent=!0,this.rCurrent=!1,this.roleCurrent=!1,this.getAreaList(h()().startOf("month").format("YYYY-MM-DD"),this.endTime,this.roleCurrent,this.area)},clickR:function(){this.lCurrent=!1,this.rCurrent=!0,this.roleCurrent=!0,this.getAreaList(h()().startOf("month").format("YYYY-MM-DD"),this.endTime,this.roleCurrent,this.area)},getHeaderInfo:function(t,e){var r=this;return Object(s["a"])(Object(i["a"])().mark((function n(){var a;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(c["f"])(t,e);case 2:a=n.sent,a[0]&&(r.headerInfo=a);case 4:case"end":return n.stop()}}),n)})))()},getAreaList:function(t){var e=this;return Object(s["a"])(Object(i["a"])().mark((function r(){var n,a;return Object(i["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(c["d"])(t);case 2:n=r.sent,a=n.currentPageRecords,e.areaList=a;case 5:case"end":return r.stop()}}),r)})))()},getToTen:function(t,e,r,n){var a=this;return Object(s["a"])(Object(i["a"])().mark((function s(){var o;return Object(i["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(c["h"])(t,e,r,n);case 2:o=i.sent,o[0]||(a.isShowEmpty2=!0);case 4:case"end":return i.stop()}}),s)})))()},changeArea:function(){this.getToTen(h()().startOf("month").format("YYYY-MM-DD"),this.endTime,this.roleCurrent,this.area)},getCollectReport:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["e"])(t.startTime,t.endTime);case 2:r=e.sent,t.collectList=r,t.collectList[0]?t.isShowEmpty=!1:t.isShowEmpty=!0;case 5:case"end":return e.stop()}}),e)})))()},chooseDate:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.value),t.startTime=t.value[0],t.endTime=t.value[1],e.next=5,t.getCollectReport();case 5:t.data1=t.collectList.map((function(t){return t.finishCount})),t.data2=t.collectList.map((function(t){return t.cancelCount})),t.data3=t.collectList.map((function(t){return h()(t.collectDate).format("MM月DD日")}));case 8:case"end":return e.stop()}}),e)})))()}},components:{barEcharts:y}},b=g,$=(r("a994"),Object(v["a"])(b,n,a,!1,null,"7c7ab00e",null));e["default"]=$.exports}}]);