(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56eb7294"],{"71d8":function(t,e,a){"use strict";a("e2be")},dc0f:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-main"},[r("div",[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[r("el-form-item",{attrs:{label:"订单编号："},model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}},[r("el-input",{attrs:{placeholder:"请输入订单编号"},model:{value:t.formData.orderNo,callback:function(e){t.$set(t.formData,"orderNo",e)},expression:"formData.orderNo"}})],1),r("el-form-item",{attrs:{label:"选择日期："}},[r("el-date-picker",{attrs:{type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","default-time":["00:00:00","23:59:59"],"picker-options":t.pickerOptions},model:{value:t.formData.dateArr,callback:function(e){t.$set(t.formData,"dateArr",e)},expression:"formData.dateArr"}},[t._v(" > ")])],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.searchBtn}},[t._v("查询")])],1)],1)],1),r("result-list",{staticClass:"result",attrs:{isShowBtn:!1,tableArr:t.tableArr,operation:t.operationArr,tableData:t.tableData,totalPage:t.totalPage,totalCount:t.totalCount,pageIndex:t.pageIndex},on:{upPage:t.upPage,nextPage:t.nextPage,operationBtn:t.operationBtn}}),r("el-dialog",{attrs:{title:"订单详情",visible:t.dialogVisible,width:"50%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("div",{staticClass:"task-status"},["出货成功"===t.currentDetail.status?[r("img",{staticStyle:{margin:"0 16px 0 22px"},attrs:{src:a("8df1")}}),r("span",[t._v(t._s(t.currentDetail.status))]),r("img",{staticClass:"pic",attrs:{src:a("92f2")}})]:"支付完成"===t.currentDetail.status?[r("img",{staticStyle:{margin:"0 16px 0 22px"},attrs:{src:a("6e46")}}),r("span",[t._v(t._s(t.currentDetail.status))]),r("img",{staticClass:"pic",attrs:{src:a("124b")}})]:[r("img",{staticStyle:{margin:"0 16px 0 22px"},attrs:{src:a("5244")}}),r("span",[t._v(t._s(t.currentDetail.status))]),r("img",{staticClass:"pic",attrs:{src:a("9413")}})]],2),r("el-form",{staticClass:"demo-form-inline"},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"订单编号:"}},[r("span",[t._v(t._s(t.currentDetail.orderNo))])]),r("el-form-item",{attrs:{label:"设备编号:"}},[r("span",[t._v(t._s(t.currentDetail.innerCode))])]),r("el-form-item",{attrs:{label:"完成时间:"}},[r("span",[t._v(t._s(t.currentDetail.updateTime))])]),r("el-form-item",{attrs:{label:"设备地址:"}},[r("span",[t._v(t._s(t.currentDetail.addr))])])],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"商品名称:"}},[r("span",[t._v(t._s(t.currentDetail.skuName))])]),r("el-form-item",{attrs:{label:"订单金额:"}},[r("span",[t._v(t._s(t.currentDetail.price))])]),r("el-form-item",{attrs:{label:"创建时间:"}},[r("span",[t._v(t._s(t.currentDetail.createTime))])]),r("el-form-item",{attrs:{label:"支付方式:"}},[r("span",[t._v(t._s({1:"支付宝支付",2:"微信支付"}[t.currentDetail.payType]))])])],1)],1)],1)],1)],1)},s=[],o=a("c7eb"),n=a("1da1"),i=(a("d3b7"),a("159b"),a("c106")),l=a("ddb9"),c=a("b775");function p(t){return Object(c["a"])({url:"/api/order-service/order/search",params:t})}var d=a("5a0c"),u=a.n(d),m={data:function(){return{tableArr:[{prop:"orderNo",label:"订单编号"},{prop:"skuName",label:"商品名称"},{prop:"price",label:"订单金额(元)"},{prop:"innerCode",label:"设备编号"},{prop:"status",label:"订单状态"},{prop:"createTime",label:"订单日期"}],operationArr:{opeWidth:"100",ope:[{title:"查看详情",color:!1}]},tableData:[],pageIndex:"",totalPage:"",totalCount:"",formData:{orderNo:"",dateArr:[]},pickerOptions:{disabledDate:function(t){return t>new Date}},dialogVisible:!1,currentDetail:{}}},created:function(){this.getOrders()},methods:{searchBtn:function(){this.getOrders({orderNo:this.formData.orderNo,startDate:this.formData.dateArr[0],endDate:this.formData.dateArr[1]})},operationBtn:function(t){console.log(t),this.dialogVisible=!0,this.currentDetail=t},handleClose:function(t){t()},getOrders:function(t){var e=this;return Object(n["a"])(Object(o["a"])().mark((function a(){var r;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,p(t);case 2:r=a.sent,e.tableData=r.currentPageRecords,e.pageIndex=r.pageIndex,e.totalPage=r.totalPage,e.totalCount=r.totalCount,e.tableData.forEach((function(t,a){t.itemIndex=10*(e.pageIndex-1)+a+1,t.createTime=u()(t.createTime).format("YYYY.MM.DD hh:mm:ss"),t.price=t.price/100,t.status=["创建","支付完成","出货成功","出货失败"][t.status]}));case 8:case"end":return a.stop()}}),a)})))()},upPage:function(){var t=this;return Object(n["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getOrders({orderNo:t.formData.orderNo,startDate:t.formData.dateArr[0],endDate:t.formData.dateArr[1],pageIndex:--t.pageIndex});case 2:case"end":return e.stop()}}),e)})))()},nextPage:function(){this.getOrders({orderNo:this.formData.orderNo,startDate:this.formData.dateArr[0],endDate:this.formData.dateArr[1],pageIndex:++this.pageIndex})}},computed:{},components:{MySearch:i["a"],ResultList:l["a"]}},f=m,b=(a("71d8"),a("2877")),D=Object(b["a"])(f,r,s,!1,null,null,null);e["default"]=D.exports},e2be:function(t,e,a){}}]);